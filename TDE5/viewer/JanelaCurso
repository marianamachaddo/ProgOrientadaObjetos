package viewer;

import java.awt.Color;
import java.awt.Font;
import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.JTextField;
import javax.swing.border.EmptyBorder;
import controller.curso.CtrlAbstratoCurso;
import controller.curso.CtrlExcluirCurso;
import model.Curso;

public class JanelaCurso extends JanelaAbstrata<CtrlAbstratoCurso> {
    private JPanel contentPane;
    private JTextField tfCodigo;
    private JTextField tfNome;

    public JanelaCurso(CtrlAbstratoCurso ctrl, Curso curso) {
        this(ctrl);

        if (curso != null) {
            tfCodigo.setText(String.valueOf(curso.getCodigo()));
            tfNome.setText(curso.getNome());
        }

        if (ctrl instanceof CtrlExcluirCurso) {
            setTitle("Excluir Curso");
            tfCodigo.setEnabled(false);
            tfNome.setEnabled(false);
            JLabel lbMsg = new JLabel("Deseja realmente excluir este curso?");
            lbMsg.setForeground(Color.RED);
            lbMsg.setFont(new Font("Calibri", Font.BOLD, 14));
            lbMsg.setBounds(100, 115, 265, 14);
            contentPane.add(lbMsg);
        } else if (curso != null) {
            setTitle("Alterar Curso");
        } else {
            setTitle("Incluir Curso");
        }
    }

    public JanelaCurso(CtrlAbstratoCurso ctrl) {
        super(ctrl);
        setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);
        setBounds(100, 100, 418, 246);
        contentPane = new JPanel();
        contentPane.setBorder(new EmptyBorder(5, 5, 5, 5));
        setContentPane(contentPane);
        contentPane.setLayout(null);

        JLabel lblNewLabel = new JLabel("CÃ³digo:");
        lblNewLabel.setBounds(32, 44, 46, 14);
        contentPane.add(lblNewLabel);

        tfCodigo = new JTextField();
        tfCodigo.setBounds(77, 41, 86, 20);
        contentPane.add(tfCodigo);
        tfCodigo.setColumns(10);

        JLabel lblNewLabel_1 = new JLabel("Nome:");
        lblNewLabel_1.setBounds(32, 86, 46, 14);
        contentPane.add(lblNewLabel_1);

        tfNome = new JTextField();
        tfNome.setBounds(77, 83, 265, 20);
        contentPane.add(tfNome);
        tfNome.setColumns(10);

        JButton btOk = new JButton("Ok");
        btOk.addActionListener(e -> {
            String codigo = tfCodigo.getText();
            String nome = tfNome.getText();
            getCtrl().efetuar(codigo, nome);
        });
        btOk.setBounds(77, 141, 89, 23);
        contentPane.add(btOk);

        JButton btCancelar = new JButton("Cancelar");
        btCancelar.addActionListener(e -> getCtrl().encerrar());
        btCancelar.setBounds(253, 141, 89, 23);
        contentPane.add(btCancelar);
    }
}
